(function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;a.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var i=n("85ec"),r=n.n(i);r.a},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},"17ed":function(e,t,n){"use strict";var i=n("ba68"),r=n.n(i);r.a},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Home",{attrs:{msg:"Dinner Danger"}})],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("body",[n("section",{staticClass:"hero is-info is-fullheight has-bg-img"},[n("div",{staticClass:"hero-head"},[n("nav",{staticClass:"navbar is-fixed-top is-warning"},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[n("a",{directives:[{name:"show",rawName:"v-show",value:!this.welcome,expression:"!this.welcome"}],staticClass:"navbar-item",attrs:{id:"refresh"},on:{click:e.clear}},[e._v(" Search Another Dinner ")]),e._m(0)]),n("div",{staticClass:"navbar-menu",attrs:{id:"navMenu"}},[n("div",{staticClass:"navbar-end"},[n("a",{staticClass:"navbar-item is-active"},[e._v(" Home ")]),n("a",{staticClass:"navbar-item",on:{click:e.login}},[e._v(" Login ")]),n("a",{staticClass:"navbar-item",attrs:{href:"https://github.com/cozma/dinnerdanger"}},[e._v(" Documentation ")])])])])])]),n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[this.welcome?n("div",[n("p",[e._v("welcome to")]),n("h1",{staticClass:"is-size-1 title",staticStyle:{color:"#FFD83D"}},[e._v(e._s(e.msg))]),n("br")]):e._e(),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[this.welcome?n("div",{staticClass:"container is-fluid"},[n("li",[n("b",[e._v("Choose Dinner date: ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.date,expression:"date"}],attrs:{type:"date"},domProps:{value:e.date},on:{input:function(t){t.target.composing||(e.date=t.target.value)}}})]),n("div",{staticClass:"field"},[n("br"),n("div",{staticClass:"control is-focused"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ingredient,expression:"ingredient"}],staticClass:"input is-large is-rounded",staticStyle:{"text-align":"center"},attrs:{type:"text",placeholder:"enter an ingredient here"},domProps:{value:e.ingredient},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add(t)},input:function(t){t.target.composing||(e.ingredient=t.target.value)}}})]),n("br"),n("div",{staticClass:"has-text-centered"},[n("input",{staticClass:"button is-centered is-warning is-medium is-outlined",attrs:{id:"add",type:"submit",value:"add to list"},on:{click:e.add}})]),n("br")])]):e._e(),this.welcome?e._e():n("div",[n("p",[e._v("Here are your results:")]),n("br"),n("article",{staticClass:"panel is-small is-warning has-background-white\t"},[n("p",{staticClass:"panel-heading"},[e._v(" Recent FDA Warnings ")]),e._l(e.warnings,(function(t){return n("li",{key:t},[n("div",{staticClass:"panel-block"},[n("a",{on:{click:function(n){return e.setCurrentWarning(t)}}},[n("b",[e._v(e._s(t.results[0].product_description.split("oz")[0].split("Ingredients")[0].split("INGREDIENTS")[0]+"\n"))])])])])}))],2)])]),n("div",{staticClass:"column"},[this.welcome?n("div",{attrs:{id:"ingredients"}},[n("br"),n("ul",e._l(e.ingredients,(function(t){return n("li",{key:t},[n("figure",{staticClass:"image is-128x128"},[n("img",{staticClass:"is-rounded",attrs:{src:t.img}})]),n("a",{attrs:{href:"#"}},[n("b",[e._v(e._s(t.title))])]),n("br")])})),0),n("br"),""!=this.ingredients?n("input",{staticClass:"button is-centered is-warning is-medium is-outlined",attrs:{id:"clear",type:"submit",value:"clear list"},on:{click:e.clear}}):e._e()]):e._e(),n("br"),n("br"),this.welcome?e._e():n("div",{staticClass:"box"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-left"}),n("div",{staticClass:"media-content"},[n("div",{staticClass:"content"},[n("p",[n("strong",[e._v("Details:")]),n("br"),e._v(" "+e._s(e.curWarningBody)+" ")])])])])])])]),this.welcome?n("div",[n("div",{staticClass:"has-text-centered"},[n("input",{staticClass:"button is-centered is-warning is-medium is-outlined",attrs:{id:"list",type:"submit",value:"search dinner warnings"},on:{click:e.list}})])]):e._e()])])]),e._m(1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"navbar-burger",attrs:{role:"button","data-target":"navMenu","aria-label":"menu","aria-expanded":"false"}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[n("p",[e._v(" developed by "),n("strong",[n("a",{staticStyle:{color:"#FFD83D"},attrs:{href:"https://github.com/cozma"}},[e._v("Dag")])])])])])}],c=(n("a15b"),n("fb6a"),n("ac1f"),n("5319"),n("841c"),n("1276"),{name:"dinnerdanger",dinner:[],data:function(){return{date:"",welcome:!0,ingredient:"",ingredients:[],nextIngredient:1,warnings:[],curWarningBody:""}},props:{msg:String,locationId:String},methods:{clear:function(){this.ingredients=[],this.warnings=[],this.welcome=!0},list:function(){this.welcome=!1},search:function(){var e=this,t=n("30dc"),i=this.findRange(this.date),r={method:"GET",url:"https://api.fda.gov/food/enforcement.json?search=report_date:["+i+"+TO+"+this.date.replace(/[^a-z0-9]/gi,"")+']+product_description:"'+e.ingredient+'"&limit=100&sort=report_date:desc',headers:{"Content-Type":"application/json"}};t(r,(function(t,n){if(t)throw new Error(t);404==n.statusCode?(e.ingredient="",alert("Ingredient not found. Please try again.")):e.warnings.push(JSON.parse(n.body))}))},findRange:function(e){var t=e.split("-");return t[0]=parseInt(t[0])-5,t.join().replace(/[^a-z0-9]/gi,"")},add:function(){var e=this,t=n("30dc"),i={method:"GET",url:"https://api.tenor.com/v1/search?q="+e.ingredient+"&key=LIVDSRZULELA&limit=1&contentfilter=high&media_filter=minimal&ar_range=standard"};t(i,(function(t,n){if(t)throw new Error(t);if(console.log("STATUS CODE: "+n.statusCode),""==e.date)alert("Please select a dinner date before adding orders.");else{var i="";JSON.parse(n.body).results[0]&&(i=JSON.parse(n.body).results[0].media[0].gif.url),""!=e.ingredient&&(e.ingredients.push({id:e.nextIngredient++,title:e.ingredient.charAt(0).toUpperCase()+e.ingredient.slice(1),img:i}),e.search(),e.ingredient="")}}))},login:function(){var e=this,t=prompt("Please enter your username:",""),i=prompt("Please enter your password:","");if(null==t||""==t||null==i||""==i)console.log("User cancelled the prompt.");else{var r=n("4a9d");r.config=new r.Config,r.config.accessKeyId="AKIAVAMWIXVL7ESOVHPL",r.config.secretAccessKey="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",r.config.region="us-east-1";var a=new r.DynamoDB,s={TableName:"dinners",Key:{userId:{S:t}}};a.getItem(s,(function(t,n){if(t)console.log("Error",t),alert("Error logging in.");else{var a=r.DynamoDB.Converter.unmarshall(n.Item);if(console.log("Success",a),a.pass==i){for(var s=0;s<a.ingredients.length;s++)e.ingredient=a.ingredients[s],e.add();e.ingredients=a.ingredients,e.date=a.date}else alert("The password entered is incorrect. Pleast try again.")}}))}},setCurrentWarning:function(e){this.curWarningBody=e.results[0].reason_for_recall+"\t\nReport Date: "+e.results[0].report_date}}}),l=c,d=(n("17ed"),n("2877")),u=Object(d["a"])(l,s,o,!1,null,"2dbe19a1",null),p=u.exports,f={name:"App",components:{Home:p}},g=f,v=(n("034f"),Object(d["a"])(g,r,a,!1,null,null,null)),m=v.exports;n("92c6");i["a"].config.productionTip=!1,i["a"].component("ListItem",{template:"    <li>      {{ title }}      <button v-on:click=\"$emit('remove')\">Remove</button>    </li>  ",props:["title"]}),new i["a"]({render:function(e){return e(m)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"85ec":function(e,t,n){},9:function(e,t){},ba68:function(e,t,n){}});
//# sourceMappingURL=app.d753522f.js.map